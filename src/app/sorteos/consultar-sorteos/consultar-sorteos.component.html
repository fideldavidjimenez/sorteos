<form>
  <mat-paginator [pageSizeOptions]="[10, 20, 50, 100]"></mat-paginator>

  <table mat-table matSort [dataSource]="dataSorteos" *ngIf="sorteosService.db.sorteos" class="mat-elevation-z8" style="width: 100%; margin-top: 25px">

    <ng-container matColumnDef="id_sorteo">
      <th mat-header-cell mat-sort-header *matHeaderCellDef class="header">N sorteo</th>
      <td mat-cell *matCellDef="let element">{{element.id_sorteo}}</td>
    </ng-container>

    <ng-container matColumnDef="n_i">
      <th mat-header-cell *matHeaderCellDef class="header">{{constantesService.labels.nInicial}}</th>
      <td mat-cell *matCellDef="let element"> {{element.n_inicial}} </td>
    </ng-container>

    <ng-container matColumnDef="n_f">
      <th mat-header-cell *matHeaderCellDef class="header">{{constantesService.labels.nFinal}}</th>
      <td mat-cell *matCellDef="let element">{{element.n_final}}</td>
    </ng-container>

    <ng-container matColumnDef="jug">
      <th mat-header-cell *matHeaderCellDef class="header">{{'Jugadas'}}</th>
      <td mat-cell *matCellDef="let element">
        <div *ngIf="element.jugadas && element.jugadas.length>0">
          <table mat-table [dataSource]="element.jugadas" style="width: 100%; background-color: transparent;">

            <ng-container matColumnDef="n_jugado">
              <th mat-header-cell *matHeaderCellDef> N jugado</th>
              <td mat-cell *matCellDef="let e2"> {{e2.n_jugado}} </td>
            </ng-container>

            <ng-container matColumnDef="premio">
              <th mat-header-cell *matHeaderCellDef>Premio</th>
              <td mat-cell *matCellDef="let e2"> {{e2.premio | currency : '': 'symbol':'1.0'}} </td>
            </ng-container>

            <ng-container matColumnDef="ganador">
              <th mat-header-cell *matHeaderCellDef>Ganador</th>
              <td mat-cell *matCellDef="let e2"> {{e2.ganador}} </td>
            </ng-container>

            <ng-container matColumnDef="valor_pagado">
              <th mat-header-cell *matHeaderCellDef> Valor Pagado</th>
              <td mat-cell *matCellDef="let e2"> {{e2.valor_pagado | currency : '': 'symbol':'1.0'}} </td>
            </ng-container>

            <ng-container matColumnDef="fecha">
              <th mat-header-cell *matHeaderCellDef> Fecha</th>
              <td mat-cell *matCellDef="let e2">{{e2.fecha | date:'HH:mm:ss yyyy-MM-dd'}}</td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="['n_jugado', 'premio','ganador','valor_pagado', 'fecha']"></tr>
            <tr mat-row *matRowDef="let row; columns: ['n_jugado', 'premio','ganador','valor_pagado', 'fecha']" class="subrowClass"></tr>

          </table>
        </div>
      </td>
    </ng-container>

    <ng-container matColumnDef="obs">
      <th mat-header-cell *matHeaderCellDef class="header">{{constantesService.labels.desc}}</th>
      <td mat-cell *matCellDef="let element"> {{element.descripcion}}</td>
    </ng-container>

    <ng-container matColumnDef="fecha">
      <th mat-header-cell mat-sort-header *matHeaderCellDef class="header">Fecha</th>
      <td mat-cell *matCellDef="let element">{{element.fecha | date:'HH:mm:ss yyyy-MM-dd'}}</td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
    <tr mat-row *matRowDef="let row; columns: columnsToDisplay" [ngClass]="'rowClass'"></tr>

  </table>
</form>
